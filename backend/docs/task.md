# üìã –ü–ª–∞–Ω –∑–∞–¥–∞—á - Farolero Loyalty App

> **–ü—Ä–æ–¥—É–∫—Ç–æ–≤–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º**  
> **–î–∞—Ç–∞**: 31.01.2025  
> **–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞**: 95% –≥–æ—Ç–æ–≤ –∫ production (–≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã)  
> **–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 2025-08-17 - –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ production

## üéØ –ê–Ω–∞–ª–∏–∑ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|-----------|------------|-------------|-----------|
| üè¢ Backend API | 99% | –ö–†–ò–¢–ò–ß–ù–ê–Ø | ‚úÖ –ì–û–¢–û–í–û |
| üîµ VK –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è | 100% | –í–´–°–û–ö–ê–Ø | ‚úÖ –ì–û–¢–û–í–û |
| üè¢ AmoCRM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è | 95% | –ö–†–ò–¢–ò–ß–ù–ê–Ø | ‚úÖ –ì–û–¢–û–í–û |
| üé´ Qtickets –∫—ç—à–±—ç–∫ | 100% | –í–´–°–û–ö–ê–Ø | ‚úÖ –ì–û–¢–û–í–û |
| üì∏ Instagram | üíØ 100% (OAuth + Insights API) | –í–´–°–û–ö–ê–Ø | ‚úÖ –ì–û–¢–û–í–û |
| üéÆ –ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è | üíØ 100% (–¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è + –∑–∞–¥–∞–Ω–∏—è + –∫–∞–ª–µ–Ω–¥–∞—Ä—å) | –°–†–ï–î–ù–Ø–Ø | ‚úÖ –ì–û–¢–û–í–û |
| üì± Telegram Bot | ‚ùå –ò–°–ö–õ–Æ–ß–ï–ù–û | –°–†–ï–î–ù–Ø–Ø | ‚ùå |
| üîó RFM-–∞–Ω–∞–ª–∏–∑ | 100% | –°–†–ï–î–ù–Ø–Ø | ‚úÖ –ì–û–¢–û–í–û |
| üéÅ –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ | 100% | –í–´–°–û–ö–ê–Ø | ‚úÖ –ì–û–¢–û–í–û |
| üìä –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ | 100% | –í–´–°–û–ö–ê–Ø | ‚úÖ –ì–û–¢–û–í–û |
| ‚úâÔ∏è Unisender —Ä–∞—Å—Å—ã–ª–∫–∏ | ‚ùå –ò–°–ö–õ–Æ–ß–ï–ù–û | –ù–ò–ó–ö–ê–Ø | ‚ùå |

**üìà –û–ë–©–ê–Ø –ì–û–¢–û–í–ù–û–°–¢–¨ –ü–†–û–ï–ö–¢–ê: 95%** (‚úÖ –≠–ü–ò–ö 1-4 –ó–ê–í–ï–†–®–ï–ù–´: —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è + –ª–æ—è–ª—å–Ω–æ—Å—Ç—å + –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ + –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è)

---

## üöÄ –≠–ü–ò–ö 1: –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è –æ—Å–Ω–æ–≤—ã (P0 - –ö–†–ò–¢–ò–ß–ù–û) ‚úÖ –ó–ê–í–ï–†–®–ï–ù

> **–¶–µ–ª—å**: –û–±–µ—Å–ø–µ—á–∏—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É –∫–ª—é—á–µ–≤—ã—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π  
> **–í—Ä–µ–º—è**: 2-3 –¥–Ω—è  
> **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –ù–µ—Ç  
> **–°—Ç–∞—Ç—É—Å**: ‚úÖ –í–°–ï –ó–ê–î–ê–ß–ò –í–´–ü–û–õ–ù–ï–ù–´ + –ë–û–ù–£–° (–≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∑–∞–¥–∞—á–µ 3.2)  
> **–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: 2025-01-31  
> **–û–±—â–µ–µ –≤—Ä–µ–º—è**: 9 —á–∞—Å–æ–≤ (–ø–ª–∞–Ω: 7 —á–∞—Å–æ–≤) - –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ –∏–∑-–∑–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π

### –ó–∞–¥–∞—á–∞ 1.1: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ VK –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
**–°—Ç–∞—Ç—É—Å**: ‚úÖ COMPLETED  
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: 2025-01-31  
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: 6 —á–∞—Å–æ–≤ (–ø–ª–∞–Ω: 4 —á–∞—Å–∞)  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P0 (–ö–†–ò–¢–ò–ß–ù–û)  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –ù–µ—Ç  

#### –ú–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏:
- [x] **1.1.1** –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π VK_CLIENT_SECRET –∏–∑ https://dev.vk.com/ (1 —á–∞—Å)
- [x] **1.1.2** –û–±–Ω–æ–≤–∏—Ç—å backend/.env —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏ (15 –º–∏–Ω)
- [x] **1.1.3** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å VK –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ /auth/vk/login (30 –º–∏–Ω)
- [x] **1.1.4** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ AmoCRM –ø—Ä–∏ VK –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (1 —á–∞—Å)
- [x] **1.1.5** –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É VK –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ VK ID (2 —á–∞—Å–∞)
- [x] **1.1.6** –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è VK –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –¥–ª—è –∑–∞–¥–∞—á–∏ 3.2 (1.5 —á–∞—Å–∞)

#### –†–µ–∑—É–ª—å—Ç–∞—Ç:
‚úÖ VK –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫  
‚úÖ –°–æ–∑–¥–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ AmoCRM –ø—Ä–∏ VK –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏  
‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ VK –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º  
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã: isMember, hasLikedPost, hasCommentedPost, hasReposted  
‚úÖ –°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç VK API –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏  
‚úÖ –í—Å–µ –º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã

#### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:
‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–∞ VK ID OAuth (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è) –∏ VK API (–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)  
‚úÖ –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è VK_INTEGRATION_FIX.md  
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç test-vk-social-tracking.js

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞:**
```bash
# –¢–µ—Å—Ç VK –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
node backend/test-vk-integration.js

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–≤–∞—à–∞ –≥—Ä—É–ø–ø–∞ –∏ –ø–æ—Å—Ç—ã)
node backend/get-vk-test-data.js

# –¢–µ—Å—Ç VK API –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
node backend/test-vk-social-tracking.js --interactive
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ VK API:**
‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ (GROUP_TOKEN –¥–ª—è –ª–∞–π–∫–æ–≤, SERVICE_KEY –¥–ª—è –ø–æ–¥–ø–∏—Å–∫–∏)  
‚úÖ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–∞–π–∫–æ–≤ —á–µ—Ä–µ–∑ likes.getList  
‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–∫—Ä—ã—Ç—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–ø–æ—Å—Ç–æ–≤ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ —á–µ—Ä–µ–∑ fave.getPosts  
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ç–æ–∫–µ–Ω–∞–º–∏  
‚úÖ –°–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö ID –ø–æ—Å—Ç–æ–≤ –∏–∑ –≤–∞—à–µ–π –≥—Ä—É–ø–ø—ã

**100% —Ä–∞–±–æ—Ç–∞—é—â–∏–µ VK API –º–µ—Ç–æ–¥—ã:**
‚úÖ isMember() - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –≥—Ä—É–ø–ø—É  
‚úÖ hasLikedPost() - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–∞–π–∫–æ–≤ (—Å fallback)  
‚úÖ hasCommentedPost() - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤  
‚úÖ hasReposted() - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–ø–æ—Å—Ç–æ–≤ (—Å—Ç–µ–Ω–∞ + –∏–∑–±—Ä–∞–Ω–Ω–æ–µ)

**–ì–æ—Ç–æ–≤–æ –∫–æ–≥–¥–∞**: VK –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫, —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ AmoCRM

---

### –ó–∞–¥–∞—á–∞ 1.2: –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è AmoCRM —Ç–æ–∫–µ–Ω–æ–≤
**–°—Ç–∞—Ç—É—Å**: ‚úÖ COMPLETED  
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: 2025-01-31  
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: 2 —á–∞—Å–∞ (–ø–ª–∞–Ω: 2 —á–∞—Å–∞)  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P0 (–ö–†–ò–¢–ò–ß–ù–û)  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –ù–µ—Ç  

#### –ú–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏:
- [x] **1.2.1** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ /auth/setup (30 –º–∏–Ω)
- [x] **1.2.2** –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —Ç–æ–∫–µ–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ persistent volume (30 –º–∏–Ω)
- [x] **1.2.3** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ Docker (1 —á–∞—Å)

#### –†–µ–∑—É–ª—å—Ç–∞—Ç:
‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å /auth/setup —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ  
‚úÖ –¢–æ–∫–µ–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ persistent volume  
‚úÖ –¢–æ–∫–µ–Ω—ã –Ω–µ —Å–ª–µ—Ç–∞—é—Ç –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ Docker

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞:**
```bash
# –¢–µ—Å—Ç AmoCRM —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
curl http://localhost:3001/api/amocrm/test
docker-compose restart backend
# –¢–æ–∫–µ–Ω—ã –¥–æ–ª–∂–Ω—ã –æ—Å—Ç–∞—Ç—å—Å—è
```

**–ì–æ—Ç–æ–≤–æ –∫–æ–≥–¥–∞**: AmoCRM —Ç–æ–∫–µ–Ω—ã –Ω–µ —Å–ª–µ—Ç–∞—é—Ç –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

---

### –ó–∞–¥–∞—á–∞ 1.3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ–ª–µ–π AmoCRM
**–°—Ç–∞—Ç—É—Å**: ‚úÖ COMPLETED  
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: 2025-01-31  
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: 1 —á–∞—Å (–ø–ª–∞–Ω: 1 —á–∞—Å)  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –ó–∞–¥–∞—á–∞ 1.2  

#### –ú–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏:
- [x] **1.3.1** –ó–∞–ø—É—Å—Ç–∏—Ç—å —É—Ç–∏–ª–∏—Ç—É autodetect-fields.js (15 –º–∏–Ω)
- [x] **1.3.2** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ ID –ø–æ–ª–µ–π –¥–ª—è Telegram, VK, –±–∞–ª–ª–æ–≤ (30 –º–∏–Ω)
- [x] **1.3.3** –û–±–Ω–æ–≤–∏—Ç—å config.js —Å –Ω–∞–π–¥–µ–Ω–Ω—ã–º–∏ ID –ø–æ–ª–µ–π (15 –º–∏–Ω)

#### –†–µ–∑—É–ª—å—Ç–∞—Ç:
‚úÖ –£—Ç–∏–ª–∏—Ç–∞ autodetect-fields.js —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ  
‚úÖ ID –ø–æ–ª–µ–π –¥–ª—è Telegram, VK, –±–∞–ª–ª–æ–≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã  
‚úÖ config.js –æ–±–Ω–æ–≤–ª–µ–Ω —Å –Ω–∞–π–¥–µ–Ω–Ω—ã–º–∏ ID –ø–æ–ª–µ–π

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞:**
```bash
cd backend
node utils/autodetect-fields.js
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø–æ–ª—è –Ω–∞–π–¥–µ–Ω—ã –∏ config.js –æ–±–Ω–æ–≤–ª–µ–Ω
```

**–ì–æ—Ç–æ–≤–æ –∫–æ–≥–¥–∞**: –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–ª—è AmoCRM –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è

---

## üîß –≠–ü–ò–ö 2: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ (P1 - –í–´–°–û–ö–ò–ô) ‚úÖ –ó–ê–í–ï–†–®–ï–ù

> **–¶–µ–ª—å**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏  
> **–í—Ä–µ–º—è**: 5-7 –¥–Ω–µ–π (—Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏: 2 –¥–Ω—è)  
> **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: ‚úÖ –≠–ü–ò–ö 1 (–í–´–ü–û–õ–ù–ï–ù)  
> **–°—Ç–∞—Ç—É—Å**: ‚úÖ –í–°–ï –ó–ê–î–ê–ß–ò –í–´–ü–û–õ–ù–ï–ù–´  
> **–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: 2025-01-31  
> **–û–±—â–µ–µ –≤—Ä–µ–º—è**: 16 —á–∞—Å–æ–≤ (–ø–ª–∞–Ω: 22 —á–∞—Å–∞) - –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ –æ–ø–µ—Ä–µ–∂–µ–Ω–∏–µ!

### –ó–∞–¥–∞—á–∞ 2.1: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
**–°—Ç–∞—Ç—É—Å**: ‚úÖ COMPLETED  
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: 2025-01-31  
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: 6 —á–∞—Å–æ–≤ (–ø–ª–∞–Ω: 8 —á–∞—Å–æ–≤) - **–æ–ø–µ—Ä–µ–∂–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞!**  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P1 (–í–´–°–û–ö–ò–ô)  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: ‚úÖ –ó–∞–¥–∞—á–∞ 1.1, 1.2 (–í–´–ü–û–õ–ù–ï–ù–´)  

#### –ú–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏:
- [x] **2.1.1** –°–æ–∑–¥–∞—Ç—å API –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã—Ö –∫–æ–¥–æ–≤ (2 —á–∞—Å–∞) - ‚úÖ –ì–û–¢–û–í–û
- [x] **2.1.2** –î–æ–±–∞–≤–∏—Ç—å QR-–∫–æ–¥ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–ª—è —Ä–µ—Ñ-—Å—Å—ã–ª–æ–∫ (1 —á–∞—Å) - ‚úÖ –ì–û–¢–û–í–û + –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û
- [x] **2.1.3** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Ä–µ—Ñ-–∫–æ–¥–æ–≤ (2 —á–∞—Å–∞) - ‚úÖ –ì–û–¢–û–í–û
- [x] **2.1.4** –î–æ–±–∞–≤–∏—Ç—å –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –±–æ–Ω—É—Å–æ–≤ —Ä–µ—Ñ–µ—Ä–µ—Ä—É –∏ —Ä–µ—Ñ–µ—Ä–∞–ª—É (1 —á–∞—Å) - ‚úÖ –ì–û–¢–û–í–û
- [x] **2.1.5** –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤ frontend (2 —á–∞—Å–∞) - ‚úÖ –ì–û–¢–û–í–û

#### –†–µ–∑—É–ª—å—Ç–∞—Ç:
‚úÖ **–ü–æ–ª–Ω–∞—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞**  
‚úÖ **API endpoints —Å–æ–∑–¥–∞–Ω—ã –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç**:
- `POST /api/referral/generate` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞
- `GET /api/referral/my-code/:telegramId` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–¥–∞
- `POST /api/referral/activate` - –∞–∫—Ç–∏–≤–∞—Ü–∏—è –∫–æ–¥–∞
- `GET /api/referral/stats/:telegramId` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `GET /api/referral/qr/:referralCode` - QR-–∫–æ–¥ (PNG/SVG)
- `GET /api/referral/validate/:referralCode` - –≤–∞–ª–∏–¥–∞—Ü–∏—è

‚úÖ **QR-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å —Ç—Ä–µ–º—è —Å—Ç–∏–ª—è–º–∏**: –æ–±—ã—á–Ω—ã–π, —Å—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π, SVG  
‚úÖ **–ó–∞—â–∏—Ç–∞ –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π**: –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞  
‚úÖ **–°–∏—Å—Ç–µ–º–∞ –±–æ–Ω—É—Å–æ–≤**: —Ä–µ—Ñ–µ—Ä–µ—Ä—É 50 –±–∞–ª–ª–æ–≤, —Ä–µ—Ñ–µ—Ä–∞–ª—É 20 –±–∞–ª–ª–æ–≤  
‚úÖ **Frontend —Å—Ç—Ä–∞–Ω–∏—Ü–∞** —Å –ø–æ–ª–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º –∏ –∫—Ä–∞—Å–∏–≤—ã–º UI  
‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AmoCRM**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤  
‚úÖ **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –ë–î –∞—Ç–æ–º–∞—Ä–Ω—ã  

#### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
‚úÖ `backend/controllers/referral.controller.js` - API –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä  
‚úÖ `backend/services/referral.service.js` - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞  
‚úÖ `backend/routes/referral.routes.js` - —Ä–æ—É—Ç—ã  
‚úÖ `backend/utils/qr-generator.js` - –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä QR-–∫–æ–¥–æ–≤  
‚úÖ `frontend/src/pages/ReferralPage.tsx` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ frontend  
‚úÖ `frontend/src/pages/ReferralPage.css` - —Å—Ç–∏–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã  
‚úÖ `backend/test-referral-system.js` - **–ù–û–í–´–ô —Ç–µ—Å—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞**

#### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:
‚úÖ **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è**: –ø–æ–ª–Ω–∞—è –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å  
‚úÖ **–°–∏—Å—Ç–µ–º–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–æ–≤ –ø–µ—Ä–µ–¥ –∞–∫—Ç–∏–≤–∞—Ü–∏–µ–π  
‚úÖ **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤**: –¥–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ç–∞—Ç—É—Å—ã**: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–∏ –±–∞–ª–ª–æ–≤

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞:**
```bash
# –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
node backend/test-referral-system.js

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ—Ñ-–∫–æ–¥–∞
curl -X POST http://localhost:3001/api/referral/generate \
  -H "Content-Type: application/json" \
  -d '{"telegramId":"test_user_123"}'

# –ü–æ–ª—É—á–µ–Ω–∏–µ QR-–∫–æ–¥–∞ (PNG)
curl "http://localhost:3001/api/referral/qr/FARXXXXX?style=styled"

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è —Ä–µ—Ñ-–∫–æ–¥–∞ –Ω–æ–≤—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
curl -X POST http://localhost:3001/api/referral/activate \
  -H "Content-Type: application/json" \
  -d '{"referralCode":"FARXXXXX","telegramId":"new_user_456"}'

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤
curl "http://localhost:3001/api/referral/stats/test_user_123"
```

**–ì–æ—Ç–æ–≤–æ –∫–æ–≥–¥–∞**: ‚úÖ **–í–°–Å –í–´–ü–û–õ–ù–ï–ù–û!**  
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å QR-–∫–æ–¥ —Å —Ä–µ—Ñ-—Å—Å—ã–ª–∫–æ–π
- ‚úÖ –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –ø–æ —Ä–µ—Ñ-—Å—Å—ã–ª–∫–µ
- ‚úÖ –†–µ—Ñ–µ—Ä–µ—Ä—É –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è 50 –±–∞–ª–ª–æ–≤, —Ä–µ—Ñ–µ—Ä–∞–ª—É 20 –±–∞–ª–ª–æ–≤
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –ø—Ä–æ—Ñ–∏–ª–µ –∏ frontend
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—â–µ–Ω–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
- ‚úÖ QR-–∫–æ–¥—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –≤ —Ç—Ä–µ—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö

#### üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (2025-08-17):
‚úÖ **–í—Å–µ 6 —Ç–µ—Å—Ç–æ–≤ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –ø—Ä–æ–π–¥–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ!**

**–¢–µ—Å—Ç 1**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞ ‚úÖ  
- –ö–æ–¥ `FAR9F35CE40` —Å–æ–∑–¥–∞–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ  
- –§–æ—Ä–º–∞—Ç: FAR + 8 —Å–∏–º–≤–æ–ª–æ–≤ —Ö–µ—à–∞  

**–¢–µ—Å—Ç 2**: –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞ ‚úÖ  
- –ö–æ–¥ –≤–∞–ª–∏–¥–µ–Ω, —Ä–µ—Ñ–µ—Ä–µ—Ä: 123456789  

**–¢–µ—Å—Ç 3**: –ê–∫—Ç–∏–≤–∞—Ü–∏—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞ ‚úÖ  
- –ö–æ–¥ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω: 123456789 ‚Üí 987654321  
- –ë–æ–Ω—É—Å —Ä–µ—Ñ–µ—Ä–µ—Ä—É: 50 –±–∞–ª–ª–æ–≤  
- –ë–æ–Ω—É—Å —Ä–µ—Ñ–∏—Ä–∏: 20 –±–∞–ª–ª–æ–≤  

**–¢–µ—Å—Ç 4**: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ ‚úÖ  
- –í—Å–µ–≥–æ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤: 1  
- –ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ: 50 –±–∞–ª–ª–æ–≤  

**–¢–µ—Å—Ç 5**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –±–∞–ª–ª–æ–≤ ‚úÖ  
- –†–µ—Ñ–µ—Ä–µ—Ä: 150 –±–∞–ª–ª–æ–≤ (100 + 50)  
- –†–µ—Ñ–∏—Ä–∏: 20 –±–∞–ª–ª–æ–≤ (0 + 20)  

**–¢–µ—Å—Ç 6**: –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ ‚úÖ  
- –°–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ  

**–°—Ç–∞—Ç—É—Å**: üéâ **–†–ï–§–ï–†–ê–õ–¨–ù–ê–Ø –°–ò–°–¢–ï–ú–ê 100% –ì–û–¢–û–í–ê –ö PRODUCTION!**

---

### –ó–∞–¥–∞—á–∞ 2.2: –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ –∏ –∫—ç—à–±—ç–∫–∞
**–°—Ç–∞—Ç—É—Å**: ‚úÖ COMPLETED  
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: 2025-01-31  
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: 4 —á–∞—Å–∞ (–ø–ª–∞–Ω: 6 —á–∞—Å–æ–≤) - **–æ–ø–µ—Ä–µ–∂–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞!**  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P1 (–í–´–°–û–ö–ò–ô)  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: ‚úÖ –ó–∞–¥–∞—á–∞ 2.1 (–í–´–ü–û–õ–ù–ï–ù–ê)  

#### –ú–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏:
- [x] **2.2.1** –°–æ–∑–¥–∞—Ç—å –ª–æ–≥–∏–∫—É —Ä–∞—Å—á–µ—Ç–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ –±–∞–ª–ª–∞–º (1 —á–∞—Å) - ‚úÖ –ì–û–¢–û–í–û
- [x] **2.2.2** –î–æ–±–∞–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –∫—ç—à–±—ç–∫–∞ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º (–ë—Ä–æ–Ω–∑–∞ 5%, –°–µ—Ä–µ–±—Ä–æ 10%, –ó–æ–ª–æ—Ç–æ 15%, –ü–ª–∞—Ç–∏–Ω–∞ 20%) (2 —á–∞—Å–∞) - ‚úÖ –ì–û–¢–û–í–û
- [x] **2.2.3** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–≤—ã—à–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ (1 —á–∞—Å) - ‚úÖ –ì–û–¢–û–í–û
- [x] **2.2.4** –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤ –ø—Ä–æ—Ñ–∏–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (1 —á–∞—Å) - ‚úÖ –ì–û–¢–û–í–û
- [x] **2.2.5** –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å —Å AmoCRM (1 —á–∞—Å) - ‚úÖ –ì–û–¢–û–í–û

#### –†–µ–∑—É–ª—å—Ç–∞—Ç:
‚úÖ **–ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ –∏ –∫—ç—à–±—ç–∫–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞**  
‚úÖ **4 —É—Ä–æ–≤–Ω—è —Å—Ç–∞—Ç—É—Å–æ–≤**: –ë—Ä–æ–Ω–∑–∞ (0+), –°–µ—Ä–µ–±—Ä–æ (500+), –ó–æ–ª–æ—Ç–æ (1500+), –ü–ª–∞—Ç–∏–Ω–∞ (3000+)  
‚úÖ **–ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π –∫—ç—à–±—ç–∫**: 5% ‚Üí 10% ‚Üí 15% ‚Üí 20%  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–≤—ã—à–µ–Ω–∏–µ**: —Å—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–∏ –±–∞–ª–ª–æ–≤  
‚úÖ **–ö—Ä–∞—Å–∏–≤—ã–π UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç**: StatusDisplay —Å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–º  
‚úÖ **–ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AmoCRM**: —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤  

#### API endpoints:
‚úÖ `GET /api/status/levels` - –≤—Å–µ —É—Ä–æ–≤–Ω–∏ —Å—Ç–∞—Ç—É—Å–æ–≤  
‚úÖ `GET /api/status/:telegramId` - —Å—Ç–∞—Ç—É—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  
‚úÖ `GET /api/status/:telegramId/cashback-rate` - –ø—Ä–æ—Ü–µ–Ω—Ç –∫—ç—à–±—ç–∫–∞  
‚úÖ `POST /api/status/:telegramId/calculate-cashback` - —Ä–∞—Å—á–µ—Ç –∫—ç—à–±—ç–∫–∞  
‚úÖ `POST /api/status/:telegramId/update-status` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞  

#### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
‚úÖ `backend/services/status.service.js` - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Å—Ç–∞—Ç—É—Å–æ–≤  
‚úÖ `backend/services/loyaltyService.js` - —Ä–∞—Å—á–µ—Ç—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏  
‚úÖ `backend/controllers/status.controller.js` - API –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä  
‚úÖ `backend/routes/status.routes.js` - —Ä–æ—É—Ç—ã —Å—Ç–∞—Ç—É—Å–æ–≤  
‚úÖ `frontend/src/components/StatusDisplay.tsx` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è  
‚úÖ `backend/test-status-system-complete.js` - **–ù–û–í–´–ô –ø–æ–ª–Ω—ã–π —Ç–µ—Å—Ç**

#### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:
‚úÖ **–í–∏–∑—É–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä**: –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—É—Ç—å –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è  
‚úÖ **–¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è**: –∫–∞–∂–¥—ã–π —Å—Ç–∞—Ç—É—Å –∏–º–µ–µ—Ç —Å–≤–æ–π —Ü–≤–µ—Ç  
‚úÖ **–ó–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫**: –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
‚úÖ **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –∞—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞:**
```bash
# –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã —Å—Ç–∞—Ç—É—Å–æ–≤
node backend/test-status-system-complete.js

# –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω–µ–π —Å—Ç–∞—Ç—É—Å–æ–≤
curl "http://localhost:3001/api/status/levels"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
curl "http://localhost:3001/api/status/test_user_123"

# –†–∞—Å—á–µ—Ç –∫—ç—à–±—ç–∫–∞ –¥–ª—è –ø–æ–∫—É–ø–∫–∏
curl -X POST "http://localhost:3001/api/status/test_user_123/calculate-cashback" \
  -H "Content-Type: application/json" \
  -d '{"purchaseAmount": 5000}'

# –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ–Ω—Ç–∞ –∫—ç—à–±—ç–∫–∞
curl "http://localhost:3001/api/status/test_user_123/cashback-rate"

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–≤—ã—à–µ–Ω–∏—è)
curl -X POST "http://localhost:3001/api/status/test_user_123/update-status"
```

**–ì–æ—Ç–æ–≤–æ –∫–æ–≥–¥–∞**: ‚úÖ **–í–°–Å –í–´–ü–û–õ–ù–ï–ù–û!**  
- ‚úÖ –°—Ç–∞—Ç—É—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ –±–∞–ª–ª–∞–º
- ‚úÖ –ö—ç—à–±—ç–∫ –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è —Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ç–∞—Ç—É—Å—É (5-20%)
- ‚úÖ –°—Ç–∞—Ç—É—Å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –ø—Ä–æ—Ñ–∏–ª–µ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–º
- ‚úÖ –°—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å AmoCRM –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —É—Ä–æ–≤–Ω–µ–π —Å —Ü–≤–µ—Ç–∞–º–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–æ–≤

---

### –ó–∞–¥–∞—á–∞ 2.3: RFM-–∞–Ω–∞–ª–∏–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
**–°—Ç–∞—Ç—É—Å**: ‚úÖ COMPLETED  
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: 2025-01-31  
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: 6 —á–∞—Å–æ–≤ (–ø–ª–∞–Ω: 8 —á–∞—Å–æ–≤)  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P1 (–í–´–°–û–ö–ò–ô)  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –ó–∞–¥–∞—á–∞ 2.2  

#### –ú–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏:
- [x] **2.3.1** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–∞—Å—á–µ—Ç Recency (–¥–∞–≤–Ω–æ—Å—Ç—å –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø–æ–∫—É–ø–∫–∏) (1.5 —á–∞—Å–∞)
- [x] **2.3.2** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–∞—Å—á–µ—Ç Frequency (—á–∞—Å—Ç–æ—Ç–∞ –ø–æ–∫—É–ø–æ–∫) (1.5 —á–∞—Å–∞)
- [x] **2.3.3** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–∞—Å—á–µ—Ç Monetary (—Å—É–º–º–∞ –ø–æ–∫—É–ø–æ–∫) (1.5 —á–∞—Å–∞)
- [x] **2.3.4** –°–æ–∑–¥–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ RFM (–ß–µ–º–ø–∏–æ–Ω—ã, –õ–æ—è–ª—å–Ω—ã–µ, –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –∏ —Ç–¥) (0.5 —á–∞—Å–∞)
- [x] **2.3.5** –î–æ–±–∞–≤–∏—Ç—å RFM –¥–∞—à–±–æ—Ä–¥ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (1 —á–∞—Å)

#### –†–µ–∑—É–ª—å—Ç–∞—Ç:
‚úÖ RFM —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞  
‚úÖ –í—Å–µ 10 —Å–µ–≥–º–µ–Ω—Ç–æ–≤ RFM —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (Champions, Loyal Customers, –∏ —Ç.–¥.)  
‚úÖ API endpoints —Å–æ–∑–¥–∞–Ω—ã –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç  
‚úÖ RFM –¥–∞—à–±–æ—Ä–¥ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π  
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ –ø–æ–∫—É–ø–∫–∞–º  

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞:**
```bash
# –†–∞—Å—á–µ—Ç RFM –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
curl http://localhost:3001/api/analytics/rfm/user/test_user_1
# –†–µ–∑—É–ª—å—Ç–∞—Ç: {"success":true,"data":{"segmentName":"Champions","recencyScore":5,"frequencyScore":5,"monetaryScore":5}}

# –ü–µ—Ä–µ—Å—á–µ—Ç –≤—Å–µ—Ö RFM —Å–µ–≥–º–µ–Ω—Ç–æ–≤
curl -X POST http://localhost:3001/api/analytics/rfm/calculate
# –†–µ–∑—É–ª—å—Ç–∞—Ç: {"success":true,"processed":5,"errors":0,"total":5}

# RFM –¥–∞—à–±–æ—Ä–¥
curl http://localhost:3001/api/analytics/rfm/dashboard
# –†–µ–∑—É–ª—å—Ç–∞—Ç: –ü–æ–ª–Ω–∞—è —Å–≤–æ–¥–∫–∞ –ø–æ —Å–µ–≥–º–µ–Ω—Ç–∞–º —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏
```

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:**
‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è RFM —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏  
‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –º–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å dependency injection  
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ 10 –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö RFM —Å–µ–≥–º–µ–Ω—Ç–æ–≤  
‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –¥–∞—à–±–æ—Ä–¥ —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π –ø–æ —Å–µ–≥–º–µ–Ω—Ç–∞–º  

**–ì–æ—Ç–æ–≤–æ –∫–æ–≥–¥–∞**: 
- ‚úÖ RFM –º–µ—Ç—Ä–∏–∫–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–µ–≥–º–µ–Ω—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ RFM –≥—Ä—É–ø–ø–∞–º
- ‚úÖ –ê–¥–º–∏–Ω –≤–∏–¥–∏—Ç RFM –¥–∞—à–±–æ—Ä–¥ —Å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## üí´ –≠–ü–ò–ö 3: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (P2 - –°–†–ï–î–ù–ò–ô) ‚úÖ –ó–ê–í–ï–†–®–ï–ù

> **–¶–µ–ª—å**: –ü–æ–¥–∫–ª—é—á–∏—Ç—å —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏ –∏ —É–ª—É—á—à–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É  
> **–í—Ä–µ–º—è**: 4-5 –¥–Ω–µ–π (—Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏: 3 –¥–Ω—è)  
> **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: ‚úÖ –≠–ü–ò–ö 2 (–í–´–ü–û–õ–ù–ï–ù)  
> **–°—Ç–∞—Ç—É—Å**: ‚úÖ –í–°–ï –ó–ê–î–ê–ß–ò –í–´–ü–û–õ–ù–ï–ù–´  
> **–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: 2025-01-31  
> **–û–±—â–µ–µ –≤—Ä–µ–º—è**: 19 —á–∞—Å–æ–≤ (–ø–ª–∞–Ω: 16 —á–∞—Å–æ–≤) - –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ –∏–∑-–∑–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

### –ó–∞–¥–∞—á–∞ 3.1: Instagram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
**–°—Ç–∞—Ç—É—Å**: üîß –ò–°–ü–†–ê–í–õ–ï–ù–û (OAuth URL + Facebook Graph API)  
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: 2025-01-31  
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: 5 —á–∞—Å–æ–≤ (–ø–ª–∞–Ω: 4 —á–∞—Å–∞) - **–ø–µ—Ä–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–æ –∏–∑-–∑–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è Insights API**  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P2 (–°–†–ï–î–ù–ò–ô) ‚Üí P1 (–í–´–°–û–ö–ò–ô) ‚Üí ‚úÖ –ì–û–¢–û–í–û  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –ó–∞–¥–∞—á–∞ 1.1

**üéâ –ü–û–õ–ù–ê–Ø –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø:**  
‚úÖ –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ –Ω–æ–≤—ã–π Instagram API —á–µ—Ä–µ–∑ Facebook Graph API  
‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û:** OAuth URL –∏–∑–º–µ–Ω–µ–Ω —Å Instagram –Ω–∞ Facebook  
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π Instagram Media Insights API  
‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤—Å–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∏ breakdowns  

#### –ú–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏:
- [x] **3.1.1** –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Meta for Developers (1 —á–∞—Å)
- [x] **3.1.2** –ü–æ–ª—É—á–∏—Ç—å INSTAGRAM_APP_ID –∏ INSTAGRAM_APP_SECRET (30 –º–∏–Ω)
- [x] **3.1.3** –û–±–Ω–æ–≤–∏—Ç—å .env —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏ Instagram (15 –º–∏–Ω)
- [x] **3.1.4** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å Instagram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é (2 —á–∞—Å–∞)
- [x] **3.1.5** üîß –ò–°–ü–†–ê–í–ò–¢–¨ OAuth URL (Facebook Graph API) (30 –º–∏–Ω)

#### –†–µ–∑—É–ª—å—Ç–∞—Ç:
‚úÖ –°–æ–∑–¥–∞–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ INSTAGRAM_SETUP_GUIDE.md  
‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω env.example —Å Instagram –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏  
‚úÖ –°–æ–∑–¥–∞–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏  
‚úÖ –ì–æ—Ç–æ–≤—ã –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏  
‚úÖ –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Instagram OAuth –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞  
üö® **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –ê–ü–î–ï–ô–¢:** –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ –Ω–æ–≤—ã–π Instagram API  
üîß **–ò–°–ü–†–ê–í–õ–ï–ù–û:** OAuth URL –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ Facebook Graph API  

#### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
‚úÖ `backend/docs/INSTAGRAM_SETUP_GUIDE.md` - –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ (–æ–±–Ω–æ–≤–ª–µ–Ω–æ)  
‚úÖ `backend/docs/INSTAGRAM_API_MIGRATION_GUIDE.md` - –≥–∏–¥ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ API  
‚úÖ `backend/docs/INSTAGRAM_CONTEXT7_INSIGHTS.md` - –∞–Ω–∞–ª–∏–∑ –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Meta  
‚úÖ `backend/services/instagram-insights.service.js` - **–ù–û–í–´–ô —Å–µ—Ä–≤–∏—Å –¥–ª—è Instagram Insights API**  
‚úÖ `backend/controllers/instagram-insights.controller.js` - **–ù–û–í–´–ô –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏**  
‚úÖ `backend/routes/instagram-insights.routes.js` - **–ù–û–í–´–ï —Ä–æ—É—Ç—ã –¥–ª—è insights**  
‚úÖ `backend/scripts/setup-instagram-env.js` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞  
‚úÖ `backend/scripts/check-instagram-setup.js` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏  
‚úÖ `backend/INSTAGRAM_QUICKSTART.md` - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç  
üîÑ –ö–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω –Ω–∞ –æ—Å–Ω–æ–≤–µ Context7 + Meta Insights API (scope, endpoints, –º–µ—Ç—Ä–∏–∫–∏)  
üîß **–ò–°–ü–†–ê–í–õ–ï–ù–û:** OAuth URL –∏ scope –¥–ª—è Facebook Graph API  

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞:**
```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–ª—é—á–µ–π (—Ç—Ä–µ–±—É–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ Facebook App ID/Secret)
node backend/scripts/setup-instagram-env.js

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
node backend/scripts/check-instagram-setup.js

# –¢–µ—Å—Ç Instagram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (—Ç–µ–ø–µ—Ä—å —á–µ—Ä–µ–∑ Facebook!)
node backend/test-instagram-integration.js
curl "https://api.5425685-au70735.twc1.net/auth/instagram/login?tg_user_id=test_123"

# –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
node backend/check-all-integrations.js
```

#### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
1. **–í–ê–ñ–ù–û:** –°–æ–∑–¥–∞—Ç—å Facebook App (–ù–ï Instagram!) –≤ Facebook for Developers
2. **–í–ê–ñ–ù–û:** –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç "Instagram API" (–ù–ï Basic Display!)
3. –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ Facebook App ID –∏ Facebook App Secret
4. **–£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Instagram Business/Creator –∞–∫–∫–∞—É–Ω—Ç—ã**
5. **–°–≤—è–∑–∞—Ç—å Instagram —Å Facebook Page** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)
6. –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã –∏–∑ INSTAGRAM_QUICKSTART.md
7. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ Facebook OAuth

#### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
üö® **–ù–æ–≤—ã–π OAuth URL:** `https://www.facebook.com/v23.0/dialog/oauth` (Facebook, –ù–ï Instagram!)  
üö® **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ scope:** `instagram_basic,instagram_content_publish,instagram_manage_insights`  
üö® **–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ:** Instagram Business/Creator –∞–∫–∫–∞—É–Ω—Ç + —Å–≤—è–∑—å —Å Facebook Page  
üö® **–ö–ª—é—á–∏:** Facebook App ID/Secret (–ù–ï Instagram!)  
üìä **Instagram Insights API:** –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –º–µ–¥–∏–∞  
‚úÖ **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ 2025:** views (–æ—Å–Ω–æ–≤–Ω–∞—è), total_interactions, ig_reels_video_view_total_time  
üóìÔ∏è **Future-proof:** –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º Instagram API 2025 –≥–æ–¥–∞  
üéØ **Production-ready:** API —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ –≤—Å–µ–º–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ Meta  
üîß **–ò–°–ü–†–ê–í–õ–ï–ù–û:** OAuth flow —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ Facebook Graph API  

**–ì–æ—Ç–æ–≤–æ –∫–æ–≥–¥–∞**: ‚úÖ –í–°–Å –í–´–ü–û–õ–ù–ï–ù–û! –ü–æ–ª–Ω–∞—è Instagram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Insights API –≥–æ—Ç–æ–≤–∞ –∫ production  
üîß **–ò–°–ü–†–ê–í–õ–ï–ù–û:** OAuth URL –∏—Å–ø—Ä–∞–≤–ª–µ–Ω, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ Facebook

---

### –ó–∞–¥–∞—á–∞ 3.2: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç—è—Ö
**–°—Ç–∞—Ç—É—Å**: ‚úÖ COMPLETED (VK + Instagram –º–µ—Ç–æ–¥—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã)  
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: 2025-01-31  
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: 6 —á–∞—Å–æ–≤ (–ø–ª–∞–Ω: 6 —á–∞—Å–æ–≤)  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P2 (–°–†–ï–î–ù–ò–ô)  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: ‚úÖ –ó–∞–¥–∞—á–∞ 1.1 (–í–´–ü–û–õ–ù–ï–ù–ê + –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞)  

#### –ú–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏:
- [x] **3.2.1** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ª–∞–π–∫–æ–≤ VK (2 —á–∞—Å–∞) - ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û –∏ –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û
- [x] **3.2.2** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ VK (2 —á–∞—Å–∞) - ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û –∏ –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û  
- [x] **3.2.3** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ä–µ–ø–æ—Å—Ç–æ–≤ VK (2 —á–∞—Å–∞) - ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û –∏ –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û
- [x] **3.2.4** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ Instagram (2 —á–∞—Å–∞) - ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û –∏ –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û
- [x] **3.2.5** –î–æ–±–∞–≤–∏—Ç—å –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –±–∞–ª–ª–æ–≤ –∑–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (1 —á–∞—Å) - ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û
- [x] **3.2.6** –°–æ–∑–¥–∞—Ç—å cron job –¥–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (1 —á–∞—Å) - ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û (API –≥–æ—Ç–æ–≤)

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞:**
```bash
# –¢–µ—Å—Ç VK API –º–µ—Ç–æ–¥–æ–≤ (—É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
node backend/test-vk-social-tracking.js

# –¢–µ—Å—Ç Instagram Activity API (–Ω–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª)
node backend/test-instagram-activity.js

# –¢–µ—Å—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
curl -X POST http://localhost:3001/api/vk/verify-activity \
  -H "Content-Type: application/json" \
  -d '{"action":"like","target":{"ownerId":"-GROUP_ID","postId":"POST_ID"}}'

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Instagram –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
curl -X POST http://localhost:3001/api/instagram/check-activity \
  -H "Content-Type: application/json" \
  -d '{"telegram_user_id":"123","access_token":"INSTAGRAM_TOKEN"}'

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –±–∞–ª–ª–æ–≤ –∑–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
curl http://localhost:3001/api/users/123/activity-history
```

#### –†–µ–∑—É–ª—å—Ç–∞—Ç:
‚úÖ **Instagram Activity API –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω**  
‚úÖ **–°–æ–∑–¥–∞–Ω —Å–µ—Ä–≤–∏—Å instagram-activity.service.js** —Å –º–µ—Ç–æ–¥–∞–º–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏  
‚úÖ **–°–æ–∑–¥–∞–Ω –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä instagram-activity.controller.js** —Å API endpoints  
‚úÖ **–°–æ–∑–¥–∞–Ω—ã —Ä–æ—É—Ç—ã instagram-activity.routes.js** –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π  
‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å —Å–∏—Å—Ç–µ–º–æ–π –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –±–∞–ª–ª–æ–≤** (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö + AmoCRM)  
‚úÖ **API endpoints –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã** –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ  

#### –°–æ–∑–¥–∞–Ω–Ω—ã–µ API endpoints:
- `POST /api/instagram/check-activity` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /api/instagram/check-all-activities` - –º–∞—Å—Å–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (–¥–ª—è cron)
- `GET /api/instagram/activity-stats/:telegram_user_id` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏  
- `POST /api/instagram/verify-activity` - –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- `GET /api/instagram/api-capabilities` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö API

#### –°–∏—Å—Ç–µ–º–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –±–∞–ª–ª–æ–≤ Instagram:
- **–ü–æ—Å—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏—è**: 50 –±–∞–ª–ª–æ–≤
- **Story –ø—É–±–ª–∏–∫–∞—Ü–∏—è**: 20 –±–∞–ª–ª–æ–≤  
- **Engagement**: 10 –±–∞–ª–ª–æ–≤ –∑–∞ –∫–∞–∂–¥—ã–µ 100 –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π
- **–ü—Ä–æ—Å–º–æ—Ç—Ä—ã**: 5 –±–∞–ª–ª–æ–≤ –∑–∞ –∫–∞–∂–¥—É—é 1000 –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å VK API**: –µ–¥–∏–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Instagram API**: –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **Insights API**: –ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Instagram Media Insights
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ**: –±–∞–ª–ª—ã –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è –∑–∞ –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

**–ì–æ—Ç–æ–≤–æ –∫–æ–≥–¥–∞**: ‚úÖ **–í–°–Å –í–´–ü–û–õ–ù–ï–ù–û!** –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ VK –∏ Instagram, –Ω–∞—á–∏—Å–ª—è–µ—Ç –±–∞–ª–ª—ã –∑–∞ —Å–æ—Ü.–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

---

### –ó–∞–¥–∞—á–∞ 3.3: –£–ª—É—á—à–µ–Ω–∏–µ Qtickets –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
**–°—Ç–∞—Ç—É—Å**: ‚úÖ COMPLETED  
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: 2025-01-31  
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: 8 —á–∞—Å–æ–≤ (–ø–ª–∞–Ω: 6 —á–∞—Å–æ–≤) - **—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª!**  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P2 (–°–†–ï–î–ù–ò–ô)  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: ‚úÖ –ó–∞–¥–∞—á–∞ 2.2 (–í–´–ü–û–õ–ù–ï–ù–ê)  

#### –ú–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏:
- [x] **3.3.1** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–ø–ª–∞—Ç—É –∫—ç—à–±—ç–∫–æ–º (–±–∞–ª–ª–∞–º–∏) (3 —á–∞—Å–∞) - ‚úÖ –ì–û–¢–û–í–û
- [x] **3.3.2** –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –±–∞–ª–ª–æ–≤ –ø–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏ (1 —á–∞—Å) - ‚úÖ –ì–û–¢–û–í–û
- [x] **3.3.3** –°–æ–∑–¥–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é –ø–æ–∫—É–ø–æ–∫ —Å –∫—ç—à–±—ç–∫–æ–º (2 —á–∞—Å–∞) - ‚úÖ –ì–û–¢–û–í–û
- [x] **3.3.4** –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (2 —á–∞—Å–∞) - ‚úÖ –ë–û–ù–£–°

#### –†–µ–∑—É–ª—å—Ç–∞—Ç:
‚úÖ **–ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫—ç—à–±—ç–∫ –ø–ª–∞—Ç–µ–∂–µ–π —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞**  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –±–∞–ª–ª–æ–≤ —Å —É—á–µ—Ç–æ–º —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**  
‚úÖ **–î–µ—Ç–∞–ª—å–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –ø–æ–∫—É–ø–æ–∫ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π**  
‚úÖ **–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∫—ç—à–±—ç–∫–∞**  
‚úÖ **–≠–∫—Å–ø–æ—Ä—Ç –∏—Å—Ç–æ—Ä–∏–∏ –≤ CSV —Ñ–æ—Ä–º–∞—Ç**  
‚úÖ **–ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∫—ç—à–±—ç–∫–∞**  

#### API endpoints –¥–ª—è –∫—ç—à–±—ç–∫–∞:
‚úÖ `GET /api/qtickets/cashback/calculate/:telegramId/:walkId` - —Ä–∞—Å—á–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –∫—ç—à–±—ç–∫–∞  
‚úÖ `POST /api/qtickets/cashback/validate` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏  
‚úÖ `POST /api/qtickets/cashback/pay` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫—ç—à–±—ç–∫ –ø–ª–∞—Ç–µ–∂–∞  
‚úÖ `GET /api/qtickets/cashback/history/:telegramId` - –∏—Å—Ç–æ—Ä–∏—è –∫—ç—à–±—ç–∫ –æ–ø–µ—Ä–∞—Ü–∏–π  
‚úÖ `GET /api/qtickets/cashback/stats/:telegramId` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫—ç—à–±—ç–∫–∞  

#### API endpoints –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ–∫—É–ø–æ–∫:
‚úÖ `GET /api/purchases/history/:telegramId` - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π  
‚úÖ `GET /api/purchases/summary/:telegramId/:period` - —Å–≤–æ–¥–∫–∞ –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º  
‚úÖ `GET /api/purchases/categories/:telegramId` - —Ç–æ–ø –∫–∞—Ç–µ–≥–æ—Ä–∏–π  
‚úÖ `GET /api/purchases/recommendations/:telegramId` - –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏  
‚úÖ `GET /api/purchases/analytics/:telegramId` - –ø–æ–ª–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (–¥–∞—à–±–æ—Ä–¥)  
‚úÖ `GET /api/purchases/export/:telegramId` - —ç–∫—Å–ø–æ—Ä—Ç –≤ CSV  

#### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
‚úÖ `backend/services/qtickets-cashback.service.js` - –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∫—ç—à–±—ç–∫–∞  
‚úÖ `backend/controllers/qtickets-cashback.controller.js` - API –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∫—ç—à–±—ç–∫–∞  
‚úÖ `backend/routes/qtickets-cashback.routes.js` - —Ä–æ—É—Ç—ã –∫—ç—à–±—ç–∫–∞  
‚úÖ `backend/services/purchase-history.service.js` - —Å–µ—Ä–≤–∏—Å –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ–∫—É–ø–æ–∫  
‚úÖ `backend/controllers/purchase-history.controller.js` - –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∏—Å—Ç–æ—Ä–∏–∏  
‚úÖ `backend/routes/purchase-history.routes.js` - —Ä–æ—É—Ç—ã –∏—Å—Ç–æ—Ä–∏–∏  
‚úÖ `backend/scripts/migrate-purchases-table.js` - –º–∏–≥—Ä–∞—Ü–∏—è –ë–î  
‚úÖ `backend/test-qtickets-cashback.js` - **–ù–û–í–´–ô —Ç–µ—Å—Ç –≤—Å–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞**

#### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:
‚úÖ **–£–º–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—ç—à–±—ç–∫ –æ–ø–µ—Ä–∞—Ü–∏–π**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤ –∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç–∏ –±–∞–ª–ª–æ–≤  
‚úÖ **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞**: —Å–≤–æ–¥–∫–∏ –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º, —Ç–æ–ø –∫–∞—Ç–µ–≥–æ—Ä–∏–π, —Ç—Ä–µ–Ω–¥—ã  
‚úÖ **–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**: —Å–æ–≤–µ—Ç—ã –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∫—ç—à–±—ç–∫–∞ –∏ –ø–æ–≤—ã—à–µ–Ω–∏—é —Å—Ç–∞—Ç—É—Å–∞  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∫—ç—à–±—ç–∫**: –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –±–æ–Ω—É—Å–æ–≤ —Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ç–∞—Ç—É—Å—É –ø—Ä–∏ –∫–∞–∂–¥–æ–π –ø–æ–∫—É–ø–∫–µ  
‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å webhook**: –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ–∫—É–ø–æ–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏  
‚úÖ **CSV —ç–∫—Å–ø–æ—Ä—Ç**: –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–≥—Ä—É–∑–∫–∏ –∏—Å—Ç–æ—Ä–∏–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞  

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞:**
```bash
# –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã –∫—ç—à–±—ç–∫–∞
node backend/test-qtickets-cashback.js

# –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
node backend/scripts/migrate-purchases-table.js

# –†–∞—Å—á–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –∫—ç—à–±—ç–∫–∞
curl "http://localhost:3001/api/qtickets/cashback/calculate/test_user_123/1578"

# –í–∞–ª–∏–¥–∞—Ü–∏—è –∫—ç—à–±—ç–∫ –æ–ø–µ—Ä–∞—Ü–∏–∏
curl -X POST "http://localhost:3001/api/qtickets/cashback/validate" \
  -H "Content-Type: application/json" \
  -d '{"telegramId":"test_user_123","walkId":1578,"pointsToUse":300}'

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫—ç—à–±—ç–∫ –ø–ª–∞—Ç–µ–∂–∞
curl -X POST "http://localhost:3001/api/qtickets/cashback/pay" \
  -H "Content-Type: application/json" \
  -d '{"telegramId":"test_user_123","walkId":1578,"pointsToUse":300}'

# –î–µ—Ç–∞–ª—å–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –ø–æ–∫—É–ø–æ–∫
curl "http://localhost:3001/api/purchases/history/test_user_123"

# –ü–æ–ª–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ–∫—É–ø–æ–∫
curl "http://localhost:3001/api/purchases/analytics/test_user_123"

# –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∫—ç—à–±—ç–∫—É
curl "http://localhost:3001/api/purchases/recommendations/test_user_123"

# –≠–∫—Å–ø–æ—Ä—Ç –∏—Å—Ç–æ—Ä–∏–∏ –≤ CSV
curl "http://localhost:3001/api/purchases/export/test_user_123" -o history.csv
```

**–ì–æ—Ç–æ–≤–æ –∫–æ–≥–¥–∞**: ‚úÖ **–í–°–Å –í–´–ü–û–õ–ù–ï–ù–û!**  
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ–ø–ª–∞—á–∏–≤–∞—Ç—å –±–∏–ª–µ—Ç—ã –±–∞–ª–ª–∞–º–∏ (–¥–æ 80% –æ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏)
- ‚úÖ –ö—ç—à–±—ç–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è —Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ç–∞—Ç—É—Å—É (5-20%)
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –ø–æ–∫—É–ø–æ–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π –∫—ç—à–±—ç–∫ –∏ —ç–∫–æ–Ω–æ–º–∏—é
- ‚úÖ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ç—Ä–∞—Ç
- ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ–∫—É–ø–æ–∫ –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º
- ‚úÖ CSV —ç–∫—Å–ø–æ—Ä—Ç –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- ‚úÖ –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π —Å—Ç–∞—Ç—É—Å–æ–≤ –∏ AmoCRM

---

## üéä –≠–ü–ò–ö 4: –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (P3 - –ù–ò–ó–ö–ò–ô) ‚úÖ –ó–ê–í–ï–†–®–ï–ù

> **–¶–µ–ª—å**: –î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—Å—ã–ª–∫–∏ –∏ –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—é  
> **–í—Ä–µ–º—è**: 1 –¥–µ–Ω—å (–ø–ª–∞–Ω: 3-4 –¥–Ω—è) - **–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ –æ–ø–µ—Ä–µ–∂–µ–Ω–∏–µ!**  
> **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: ‚úÖ –≠–ü–ò–ö 3 (–í–´–ü–û–õ–ù–ï–ù)  
> **–°—Ç–∞—Ç—É—Å**: ‚úÖ –≠–ü–ò–ö –ó–ê–í–ï–†–®–ï–ù  
> **–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: 2025-01-31  
> **–û–±—â–µ–µ –≤—Ä–µ–º—è**: 8 —á–∞—Å–æ–≤ (–ø–ª–∞–Ω: 8 —á–∞—Å–æ–≤ –¥–ª—è –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–∏)  
> **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≥–æ—Ç–æ–≤–∞ –∫ production

### –ó–∞–¥–∞—á–∞ 4.1: Telegram Bot –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
**–°—Ç–∞—Ç—É—Å**: ‚ùå –ò–°–ö–õ–Æ–ß–ï–ù–ê  
**–ü—Ä–∏—á–∏–Ω–∞**: –£ –∑–∞–∫–∞–∑—á–∏–∫–∞ —É–∂–µ –µ—Å—Ç—å Telegram Bot  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P3 (–ù–ò–ó–ö–ò–ô)  
**–í—Ä–µ–º—è**: 4 —á–∞—Å–∞  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –ó–∞–¥–∞—á–∞ 2.1  

#### –ú–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏:
- [x] **4.1.1** –ü–æ–ª—É—á–∏—Ç—å TELEGRAM_BOT_TOKEN –æ—Ç @BotFather (30 –º–∏–Ω) - ‚ùå –ò–°–ö–õ–Æ–ß–ï–ù–û
- [x] **4.1.2** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–∏ –±–∞–ª–ª–æ–≤ (2 —á–∞—Å–∞) - ‚ùå –ò–°–ö–õ–Æ–ß–ï–ù–û
- [x] **4.1.3** –î–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–º–µ–Ω–µ —Å—Ç–∞—Ç—É—Å–∞ (1 —á–∞—Å) - ‚ùå –ò–°–ö–õ–Æ–ß–ï–ù–û
- [x] **4.1.4** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –Ω–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –±–∞–ª–ª–∞—Ö (30 –º–∏–Ω) - ‚ùå –ò–°–ö–õ–Æ–ß–ï–ù–û

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ó–∞–¥–∞—á–∞ –∏—Å–∫–ª—é—á–µ–Ω–∞ –∏–∑ –ø–ª–∞–Ω–∞, —Ç–∞–∫ –∫–∞–∫ —É –∑–∞–∫–∞–∑—á–∏–∫–∞ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω Telegram Bot. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –±–æ—Ç–æ–º –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∞ –≤ –±—É–¥—É—â–µ–º.

---

### –ó–∞–¥–∞—á–∞ 4.2: Unisender –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è —Ä–∞—Å—Å—ã–ª–æ–∫
**–°—Ç–∞—Ç—É—Å**: ‚ùå –ò–°–ö–õ–Æ–ß–ï–ù–ê  
**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∞ —Å –∑–∞–∫–∞–∑—á–∏–∫–æ–º  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P3 (–ù–ò–ó–ö–ò–ô)  
**–í—Ä–µ–º—è**: 6 —á–∞—Å–æ–≤  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –ó–∞–¥–∞—á–∞ 2.3  

#### –ú–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏:
- [x] **4.2.1** –ü–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á Unisender (30 –º–∏–Ω) - ‚ùå –ò–°–ö–õ–Æ–ß–ï–ù–û
- [x] **4.2.2** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å Unisender (2 —á–∞—Å–∞) - ‚ùå –ò–°–ö–õ–Æ–ß–ï–ù–û
- [x] **4.2.3** –°–æ–∑–¥–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—Å—ã–ª–∫–∏ –ø–æ RFM —Å–µ–≥–º–µ–Ω—Ç–∞–º (2 —á–∞—Å–∞) - ‚ùå –ò–°–ö–õ–Æ–ß–ï–ù–û
- [x] **4.2.4** –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä—É—á–Ω—ã—Ö —Ä–∞—Å—Å—ã–ª–æ–∫ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ (1.5 —á–∞—Å–∞) - ‚ùå –ò–°–ö–õ–Æ–ß–ï–ù–û

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ó–∞–¥–∞—á–∞ –∏—Å–∫–ª—é—á–µ–Ω–∞ –∏–∑ –ø–ª–∞–Ω–∞ –ø–æ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—é —Å –∑–∞–∫–∞–∑—á–∏–∫–æ–º. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ä–∞—Å—Å—ã–ª–æ–∫ –Ω–µ –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏.

---

### –ó–∞–¥–∞—á–∞ 4.3: –ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
**–°—Ç–∞—Ç—É—Å**: ‚úÖ COMPLETED  
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: 2025-01-31  
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: 8 —á–∞—Å–æ–≤ (–ø–ª–∞–Ω: 8 —á–∞—Å–æ–≤) - **—Ç–æ—á–Ω–æ –≤ —Å—Ä–æ–∫!**  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P3 (–ù–ò–ó–ö–ò–ô) ‚Üí **–í–´–ü–û–õ–ù–ï–ù–û**  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: ‚úÖ –ó–∞–¥–∞—á–∞ 3.2 (–í–´–ü–û–õ–ù–ï–ù–ê)  

#### –ú–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏:
- [x] **4.3.1** –°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π (–ø–µ—Ä–≤–∞—è –ø–æ–∫—É–ø–∫–∞, 10 –¥—Ä—É–∑–µ–π –∏ —Ç–¥) (3 —á–∞—Å–∞) - ‚úÖ –ì–û–¢–û–í–û
- [x] **4.3.2** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è (2 —á–∞—Å–∞) - ‚úÖ –ì–û–¢–û–í–û
- [x] **4.3.3** –î–æ–±–∞–≤–∏—Ç—å –∫–∞–ª–µ–Ω–¥–∞—Ä—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (2 —á–∞—Å–∞) - ‚úÖ –ì–û–¢–û–í–û
- [x] **4.3.4** –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –≤ frontend (1 —á–∞—Å) - ‚úÖ –ì–û–¢–û–í–û

#### –†–µ–∑—É–ª—å—Ç–∞—Ç:
‚úÖ **–ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞**  
‚úÖ **13 —Ç–∏–ø–æ–≤ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π**: –ø–æ –ø–æ–∫—É–ø–∫–∞–º, —Ä–µ—Ñ–µ—Ä–∞–ª–∞–º, –±–∞–ª–ª–∞–º, —Å—Ç–∞—Ç—É—Å–∞–º, —Å–æ—Ü—Å–µ—Ç—è–º  
‚úÖ **10 —Ç–∏–ø–æ–≤ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π**: –æ—Ç –ø—Ä–æ—Å—Ç—ã—Ö –¥–æ —Å–ª–æ–∂–Ω—ã—Ö, —Å —Å–∏—Å—Ç–µ–º–æ–π —Å—Ç—Ä–∏–∫–æ–≤  
‚úÖ **–ö–∞–ª–µ–Ω–¥–∞—Ä—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏**: heat map, –º–µ—Å—è—á–Ω—ã–µ/–≥–æ–¥–æ–≤—ã–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏  
‚úÖ **–ö—Ä–∞—Å–∏–≤–∞—è frontend —Å—Ç—Ä–∞–Ω–∏—Ü–∞**: —Ç–∞–±—ã, –∞–Ω–∏–º–∞—Ü–∏–∏, –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å  
‚úÖ **–ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –ø–æ–∫—É–ø–∫–∞—Ö, —Ä–µ—Ñ–µ—Ä–∞–ª–∞—Ö, —Å–æ—Ü–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏  

#### –°–æ–∑–¥–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
**Backend (13 —Ñ–∞–π–ª–æ–≤):**
‚úÖ `services/achievements.service.js` - —Å–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π  
‚úÖ `services/daily-tasks.service.js` - –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è  
‚úÖ `services/activity-calendar.service.js` - –∫–∞–ª–µ–Ω–¥–∞—Ä—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏  
‚úÖ `controllers/achievements.controller.js` - API –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π  
‚úÖ `controllers/daily-tasks.controller.js` - API –∑–∞–¥–∞–Ω–∏–π  
‚úÖ `controllers/activity-calendar.controller.js` - API –∫–∞–ª–µ–Ω–¥–∞—Ä—è  
‚úÖ `routes/achievements.routes.js` - —Ä–æ—É—Ç—ã –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π  
‚úÖ `routes/daily-tasks.routes.js` - —Ä–æ—É—Ç—ã –∑–∞–¥–∞–Ω–∏–π  
‚úÖ `routes/activity-calendar.routes.js` - —Ä–æ—É—Ç—ã –∫–∞–ª–µ–Ω–¥–∞—Ä—è  
‚úÖ `scripts/create-achievements-tables.js` - –ë–î –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π  
‚úÖ `scripts/create-daily-tasks-tables.js` - –ë–î –∑–∞–¥–∞–Ω–∏–π  
‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `webhook.service.js` –∏ `referral.service.js`  
‚úÖ `test-gamification-complete.js` - **–ù–û–í–´–ô –ø–æ–ª–Ω—ã–π —Ç–µ—Å—Ç**  

**Frontend (3 —Ñ–∞–π–ª–∞):**
‚úÖ `pages/AchievementsPage.tsx` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–∏  
‚úÖ `pages/AchievementsPage.css` - —Å—Ç–∏–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã  
‚úÖ `api/index.ts` - —Ä–∞—Å—à–∏—Ä–µ–Ω —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–∏  

#### API endpoints (21 endpoint):
**–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è:**
‚úÖ `GET /api/achievements` - –≤—Å–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è  
‚úÖ `GET /api/achievements/user/:id` - –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  
‚úÖ `GET /api/achievements/stats/:id` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  
‚úÖ `POST /api/achievements/check/:id` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è  
‚úÖ `GET /api/achievements/leaderboard` - —Ç–æ–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
‚úÖ `GET /api/achievements/categories` - –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π  

**–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è:**
‚úÖ `GET /api/daily-tasks/:id` - –∑–∞–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  
‚úÖ `POST /api/daily-tasks/:id/checkin` - –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –≤—Ö–æ–¥  
‚úÖ `POST /api/daily-tasks/:id/progress` - –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å  
‚úÖ `GET /api/daily-tasks/:id/streak` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å—Ç—Ä–∏–∫–∞  
‚úÖ `POST /api/daily-tasks/track` - —Ç—Ä–µ–∫–∏–Ω–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏  
‚úÖ `GET /api/daily-tasks/leaderboard/streaks` - —Ç–æ–ø —Å—Ç—Ä–∏–∫–æ–≤  

**–ö–∞–ª–µ–Ω–¥–∞—Ä—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:**
‚úÖ `GET /api/activity-calendar/:id` - –∫–∞–ª–µ–Ω–¥–∞—Ä—å –ø–µ—Ä–∏–æ–¥–∞  
‚úÖ `GET /api/activity-calendar/:id/current` - —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü  
‚úÖ `GET /api/activity-calendar/:id/stats` - –æ–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞  
‚úÖ `GET /api/activity-calendar/:id/week` - –Ω–µ–¥–µ–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å  
‚úÖ `GET /api/activity-calendar/:id/month/:y/:m` - –º–µ—Å—è—á–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å  
‚úÖ `GET /api/activity-calendar/:id/year/:y` - –≥–æ–¥–æ–≤–∞—è heatmap  

#### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:
‚úÖ **–°–∏—Å—Ç–µ–º–∞ —Å—Ç—Ä–∏–∫–æ–≤**: –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å –±–æ–Ω—É—Å–∞–º–∏  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø—Ä–∏ –ø–æ–∫—É–ø–∫–∞—Ö/—Ä–µ—Ñ–µ—Ä–∞–ª–∞—Ö  
‚úÖ **Heat map –∫–∞–ª–µ–Ω–¥–∞—Ä—å**: GitHub-style –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏  
‚úÖ **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π UI**: –∫—Ä–∞—Å–∏–≤—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ –æ—Ç–∑—ã–≤—á–∏–≤—ã–π –¥–∏–∑–∞–π–Ω  
‚úÖ **Production-ready**: –ø–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è  

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞:**
```bash
# –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–∏
node backend/test-gamification-complete.js

# –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
curl http://localhost:3001/api/achievements/user/test_user_123

# –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è
curl http://localhost:3001/api/daily-tasks/test_user_123

# –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –≤—Ö–æ–¥
curl -X POST http://localhost:3001/api/daily-tasks/test_user_123/checkin

# –ö–∞–ª–µ–Ω–¥–∞—Ä—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
curl "http://localhost:3001/api/activity-calendar/test_user_123?period=30"

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å—Ç—Ä–∏–∫–∞
curl http://localhost:3001/api/daily-tasks/test_user_123/streak

# –¢—Ä–µ–∫–∏–Ω–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
curl -X POST http://localhost:3001/api/daily-tasks/track \
  -H "Content-Type: application/json" \
  -d '{"telegramId":"test_user_123","activityType":"app_visit"}'
```

**–ì–æ—Ç–æ–≤–æ –∫–æ–≥–¥–∞**: ‚úÖ **–í–°–Å –í–´–ü–û–õ–ù–ï–ù–û!**  
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (13 —Ç–∏–ø–æ–≤)
- ‚úÖ –†–∞–±–æ—Ç–∞—é—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è —Å –±–æ–Ω—É—Å–∞–º–∏ (10 —Ç–∏–ø–æ–≤)
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–ª–µ–Ω–¥–∞—Ä—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (heat map)
- ‚úÖ Frontend —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å —Ç–∞–±–∞–º–∏ –∏ –∞–Ω–∏–º–∞—Ü–∏—è–º–∏
- ‚úÖ –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Å—Ç—Ä–∏–∫–æ–≤ –∏ –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≥–æ—Ç–æ–≤–∞ –∫ production

---

## üîß –≠–ü–ò–ö 5: –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (P4 - –û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ô)

> **–¶–µ–ª—å**: –ü–æ–≤—ã—Å–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
> **–í—Ä–µ–º—è**: 2-3 –¥–Ω—è
> **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –≠–ü–ò–ö 4

### –ó–∞–¥–∞—á–∞ 5.1: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P4 (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ô)  
**–í—Ä–µ–º—è**: 4 —á–∞—Å–∞  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –í—Å–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ  

#### –ú–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏:
- [ ] **5.1.1** –î–æ–±–∞–≤–∏—Ç—å rate limiting –¥–ª—è API (1 —á–∞—Å)
- [ ] **5.1.2** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π (1 —á–∞—Å)
- [ ] **5.1.3** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å health checks –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (1 —á–∞—Å)
- [ ] **5.1.4** –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (1 —á–∞—Å)

**–ì–æ—Ç–æ–≤–æ –∫–æ–≥–¥–∞**: API –∑–∞—â–∏—â–µ–Ω –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π, –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è

---

### –ó–∞–¥–∞—á–∞ 5.2: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P4 (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ô)  
**–í—Ä–µ–º—è**: 6 —á–∞—Å–æ–≤  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –ó–∞–¥–∞—á–∞ 5.1  

#### –ú–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏:
- [ ] **5.2.1** –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (3 —á–∞—Å–∞)
- [ ] **5.2.2** –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å SQL –∑–∞–ø—Ä–æ—Å—ã —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏ (2 —á–∞—Å–∞)
- [ ] **5.2.3** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å lazy loading –≤ frontend (1 —á–∞—Å)

**–ì–æ—Ç–æ–≤–æ –∫–æ–≥–¥–∞**: API –æ—Ç–≤–µ—á–∞–µ—Ç < 1 —Å–µ–∫—É–Ω–¥—ã, frontend –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è < 3 —Å–µ–∫—É–Ω–¥

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

### –ü–æ—Å–ª–µ –≠–ü–ò–ö 1 (–°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è) - 90% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
- ‚úÖ VK –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- ‚úÖ AmoCRM —Ç–æ–∫–µ–Ω—ã –Ω–µ —Å–ª–µ—Ç–∞—é—Ç  
- ‚úÖ –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–ª—è –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### –ü–æ—Å–ª–µ –≠–ü–ò–ö 2 (–ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª) - 95% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏  
- ‚úÖ –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å QR –∫–æ–¥–∞–º–∏
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ –∏ –∫—ç—à–±—ç–∫–∞
- ‚úÖ RFM –∞–Ω–∞–ª–∏–∑ –∏ —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è

### –ü–æ—Å–ª–µ –≠–ü–ò–ö 3 (–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏) - 99% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
- ‚úÖ Instagram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ—Ü.–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (VK + Instagram)
- ‚úÖ –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Qtickets

### –ü–æ—Å–ª–µ –≠–ü–ò–ö 4 (–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥) - 90% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
- ‚ùå Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–∏—Å–∫–ª—é—á–µ–Ω–æ - —É –∑–∞–∫–∞–∑—á–∏–∫–∞ –µ—Å—Ç—å –±–æ—Ç)
- ‚ùå Email —Ä–∞—Å—Å—ã–ª–∫–∏ —á–µ—Ä–µ–∑ Unisender (–∏—Å–∫–ª—é—á–µ–Ω–æ)
- ‚úÖ –ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è

---

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –ù–µ–¥–µ–ª—è 1: –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è (–≠–ü–ò–ö 1)
**–î–Ω–∏ 1-2**: –ó–∞–¥–∞—á–∏ 1.1, 1.2, 1.3
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –°—Ç–∞–±–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—é—â–∏–µ VK –∏ AmoCRM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –ù–µ–¥–µ–ª—è 2: –ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–≠–ü–ò–ö 2) 
**–î–µ–Ω—å 3**: –ó–∞–¥–∞—á–∞ 2.1 (–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞)
**–î–µ–Ω—å 4**: –ó–∞–¥–∞—á–∞ 2.2 (–°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞—Ç—É—Å–æ–≤)  
**–î–Ω–∏ 5-6**: –ó–∞–¥–∞—á–∞ 2.3 (RFM –∞–Ω–∞–ª–∏–∑)
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏

### –ù–µ–¥–µ–ª—è 3: –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏ (–≠–ü–ò–ö 3)
**–î–µ–Ω—å 7**: –ó–∞–¥–∞—á–∞ 3.1 (Instagram)
**–î–Ω–∏ 8-9**: –ó–∞–¥–∞—á–∞ 3.2 (–°–æ—Ü.–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)
**–î–µ–Ω—å 10**: –ó–∞–¥–∞—á–∞ 3.3 (Qtickets —É–ª—É—á—à–µ–Ω–∏—è)
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ü–æ–ª–Ω—ã–µ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –ù–µ–¥–µ–ª—è 4: –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ (–≠–ü–ò–ö 4) 
**–î–µ–Ω—å 11**: –ó–∞–¥–∞—á–∞ 4.3 (–ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è) - **—É—Å–∫–æ—Ä–µ–Ω–æ –Ω–∞ 2 –¥–Ω—è**
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (—Ç–æ–ª—å–∫–æ –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è)

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (–≠–ü–ò–ö 5)
**–î–Ω–∏ 15-16**: –ó–∞–¥–∞—á–∏ 5.1, 5.2
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: Production-ready —Å–∏—Å—Ç–µ–º–∞

---

## ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ (Definition of Done)

### –î–ª—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏:
- [ ] –ö–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
- [ ] –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–æ–≤–µ—Ä–µ–Ω —á–µ—Ä–µ–∑ API/UI
- [ ] –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫  
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AmoCRM —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)

### –î–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ø–∏–∫–∞:
- [ ] –í—Å–µ –∑–∞–¥–∞—á–∏ —ç–ø–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- [ ] –ü—Ä–æ–≤–µ–¥–µ–Ω–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- [ ] Metrics –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —É—Å–ø–µ—à–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

---

*–°–æ–∑–¥–∞–Ω–æ: $(date)*  
*–ê–≤—Ç–æ—Ä: Product Manager AI Assistant*  
*–ü—Ä–æ–µ–∫—Ç: Farolero Loyalty App*
