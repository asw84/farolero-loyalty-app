# üìä –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–º –ø—Ä–æ–µ–∫—Ç–∞ Farolero Loyalty App

## üéØ –û–±—â–∏–π —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞: **85% –≥–æ—Ç–æ–≤**

---

## üì± **VK –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø** - 90% –≥–æ—Ç–æ–≤–∞ ‚úÖ

### ‚úÖ **–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- VK_CLIENT_ID: –Ω–∞—Å—Ç—Ä–æ–µ–Ω (54020028)
- VK_REDIRECT_URI: –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π
- JWT_SECRET: –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- URL —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è
- VK API: –¥–æ—Å—Ç—É–ø–µ–Ω
- –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: –ø–æ–ª–Ω–∞—è

### ‚ùå **–ß—Ç–æ –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:**
- **VK_CLIENT_SECRET**: –∑–∞–º–µ–Ω–∏—Ç—å placeholder –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –∫–ª—é—á

### üîó **–ì–æ—Ç–æ–≤—ã–µ URL –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
```
# –õ–æ–∫–∞–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞—Ü–∏—è:
https://api.5425685-au70735.twc1.net/auth/vk/login?tg_user_id=test_user_123

# –ü—Ä—è–º–æ–π VK OAuth:
https://oauth.vk.com/authorize?client_id=54020028&redirect_uri=...
```

### üöÄ **–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** 
–ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π VK_CLIENT_SECRET –∏–∑ https://dev.vk.com/

---

## üì∏ **INSTAGRAM –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø** - 75% –≥–æ—Ç–æ–≤–∞ ‚ö†Ô∏è

### ‚úÖ **–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- INSTAGRAM_REDIRECT_URI: –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π
- –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: –ø–æ–ª–Ω–∞—è
- Instagram API: –¥–æ—Å—Ç—É–ø–µ–Ω
- HTTPS: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- Routes: –ø–æ–¥–∫–ª—é—á–µ–Ω—ã
- –£–ª—É—á—à–µ–Ω –∫–æ–¥: —É–±—Ä–∞–Ω–∞ –∑–∞–≥–ª—É—à–∫–∞ telegram_user_id

### ‚ùå **–ß—Ç–æ –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:**
- **INSTAGRAM_APP_ID**: –∑–∞–º–µ–Ω–∏—Ç—å placeholder
- **INSTAGRAM_APP_SECRET**: –∑–∞–º–µ–Ω–∏—Ç—å placeholder

### üîó **–ì–æ—Ç–æ–≤—ã–µ URL –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
```
# –õ–æ–∫–∞–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞—Ü–∏—è:
https://api.5425685-au70735.twc1.net/auth/instagram/login?tg_user_id=test_user_123

# –ü—Ä—è–º–æ–π Instagram OAuth:
https://api.instagram.com/oauth/authorize?client_id=YOUR_INSTAGRAM_APP_ID&...
```

### üöÄ **–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** 
–°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ https://developers.facebook.com/

---

## üè¢ **AMOCRM –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø** - 95% –≥–æ—Ç–æ–≤–∞ ‚úÖ

### ‚úÖ **–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- AMOCRM_DOMAIN: –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- AMOCRM_CLIENT_ID: –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- AMOCRM_CLIENT_SECRET: –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- AMOCRM_REFRESH_TOKEN: –µ—Å—Ç—å
- AmoCRM API: –¥–æ—Å—Ç—É–ø–µ–Ω
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏: —Å–æ–∑–¥–∞–Ω

### üîß **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```
https://api.5425685-au70735.twc1.net/auth/setup
```

### üöÄ **–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

---

## üé´ **QTICKETS –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø** - 90% –≥–æ—Ç–æ–≤–∞ ‚úÖ

### ‚úÖ **–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- API –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ: —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ó–∞–≥—Ä—É–∑–∫–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π: 8 –∞–∫—Ç–∏–≤–Ω—ã—Ö
- Webhook endpoints: –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

### üöÄ **–°—Ç–∞—Ç—É—Å:** –†–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ!

---

## üì± **TELEGRAM BOT** - 80% –≥–æ—Ç–æ–≤–∞ ‚ö†Ô∏è

### ‚úÖ **–ß—Ç–æ –≥–æ—Ç–æ–≤–æ:**
- Bot API —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: —Å–æ–∑–¥–∞–Ω–∞
- Database –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: —Ä–∞–±–æ—Ç–∞–µ—Ç

### ‚ùå **–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- TELEGRAM_BOT_TOKEN: –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π

---

## üíæ **DATABASE & BACKEND** - 100% –≥–æ—Ç–æ–≤–∞ ‚úÖ

### ‚úÖ **–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- SQLite: –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
- –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã: —Å–æ–∑–¥–∞–Ω—ã (users, referrals, purchases, rfm_segments, activity)
- Backend API: –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- Health checks: –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- Referral system: —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- RFM Analysis: —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

---

## üß™ **–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï** - 100% –≥–æ—Ç–æ–≤–æ ‚úÖ

### ‚úÖ **–°–æ–∑–¥–∞–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- `test-quick.js` - –±—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `test-vk-integration.js` - –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ VK
- `test-instagram-integration.js` - –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ Instagram
- `generate-vk-test-urls.js` - –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä VK URL
- `generate-instagram-test-urls.js` - –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä Instagram URL
- `test-complete.sh` - –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ API —Ç–µ—Å—Ç—ã

---

## üéØ **–ü–†–ò–û–†–ò–¢–ï–¢–´ –î–õ–Ø –ó–ê–í–ï–†–®–ï–ù–ò–Ø:**

### **1. –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–¥–ª—è –±–∞–∑–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏):**
```
üîµ VK_CLIENT_SECRET - –ø–æ–ª—É—á–∏—Ç—å –∏–∑ dev.vk.com
üè¢ AmoCRM —Ç–æ–∫–µ–Ω—ã - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å /auth/setup
```

### **2. –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–¥–ª—è –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏):**
```
üì∏ Instagram App ID/Secret - —Å–æ–∑–¥–∞—Ç—å –≤ developers.facebook.com
üì± Telegram Bot Token - –ø–æ–ª—É—á–∏—Ç—å –æ—Ç @BotFather
```

### **3. –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è):**
```
üîµ VK_SERVICE_KEY - –¥–ª—è VK ID API
üîµ VK_GROUP_TOKEN - –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ –≥—Ä—É–ø–ø–µ
```

---

## üöÄ **–ì–û–¢–û–í–´–ï –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ –§–£–ù–ö–¶–ò–ò:**

### ‚úÖ **–°–µ–π—á–∞—Å —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- Backend —Å–µ—Ä–≤–µ—Ä
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- AmoCRM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (—Å –≤–µ–±-–Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π)
- Qtickets –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- Referral —Å–∏—Å—Ç–µ–º–∞
- RFM –∞–Ω–∞–ª–∏–∑
- Health checks
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### üîß **–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–ª—é—á–µ–π:**
- VK –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ CLIENT_SECRET)
- Instagram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–Ω—É–∂–Ω—ã APP_ID –∏ APP_SECRET)

---

## üìã **–ò–ù–°–¢–†–£–ö–¶–ò–ò –î–õ–Ø –§–ò–ù–ê–õ–¨–ù–û–ì–û –ó–ê–ü–£–°–ö–ê:**

### **1. –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–±–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å):**
```bash
# 1. –ü–æ–ª—É—á–∏—Ç–µ VK_CLIENT_SECRET –∏–∑ dev.vk.com
# 2. –û–±–Ω–æ–≤–∏—Ç–µ backend/.env
# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ:
cd backend
node test-db-simple.js  # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î
node server.js          # –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```

### **2. –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (–≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏):**
```bash
# 1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤—Å–µ API –∫–ª—é—á–∏ (VK, Instagram, Telegram)
# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
./test-deploy.sh        # –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```

### **3. –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
```
AmoCRM: https://api.5425685-au70735.twc1.net/auth/setup
Health: https://api.5425685-au70735.twc1.net/health
```

---

## üéâ **–î–û–°–¢–ò–ñ–ï–ù–ò–Ø:**

### ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Å–≤–µ—Ä—Ö –¢–ó:**
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ AmoCRM
- RFM –∞–Ω–∞–ª–∏–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –°–∏—Å—Ç–µ–º–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ —Å QR –∫–æ–¥–∞–º–∏
- Docker health checks
- Comprehensive logging
- Error handling –∏ recovery

### üìà **–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞:**
- Structured logging
- Error handling
- Input validation
- Security best practices
- Automated testing
- Documentation

---

## üîÆ **–°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:**

1. **–°–µ–≥–æ–¥–Ω—è:** –ü–æ–ª—É—á–∏—Ç—å VK_CLIENT_SECRET ‚Üí VK –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞ –Ω–∞ 100%
2. **–ù–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ:** –°–æ–∑–¥–∞—Ç—å Instagram –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Üí Instagram –≥–æ—Ç–æ–≤–∞ –Ω–∞ 100%  
3. **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Telegram Bot –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —É–∂–µ —Å–µ–π—á–∞—Å —Å –±–∞–∑–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é!** üöÄ
